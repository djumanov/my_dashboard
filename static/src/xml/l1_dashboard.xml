<templates>
    <t t-name="custom.l1_dashboard_demo" owl="1">
        <div class="l1_dashboard_wrapper">
            <!-- KPI Cards Section (35% height) -->
            <div class="kpi_section">
                <!-- Sales Card -->
                <div class="kpi_card">
                    <div class="kpi_header">
                        <div class="kpi_icon bg-primary-light">
                            <i class="fa fa-line-chart text-primary"/>
                        </div>
                        <h6 class="kpi_title">Sales</h6>
                    </div>
                    <div class="kpi_content">
                        <table>
                            <tbody>
                                <tr>
                                    <td>Sales Target</td>
                                    <td><t t-esc="state.main_data.overview?.sales_target"/></td>
                                </tr>
                                <tr>
                                    <td>Total Achieved</td>
                                    <td><t t-esc="state.main_data.overview?.total_achieved"/></td>
                                </tr>
                                <tr>
                                    <td>Sales Order</td>
                                    <td><t t-esc="state.main_data.overview?.sales_order"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Target Achievement Card -->
                <div class="kpi_card target_achievement_card">
                    <div class="kpi_header">
                        <div class="kpi_icon bg-success-light">
                            <i class="fa fa-bullseye text-success"/>
                        </div>
                        <h6 class="kpi_title">Target Achievement</h6>
                    </div>
                    <div class="target_chart_wrapper">
                        <div class="ta-bar-wrap">
                            <canvas t-ref="targetBarChart"/>
                        </div>
                    </div>
                    <div class="target_legend">
                        <span class="legend_item">
                            <span class="ta-dot ta-dot--green"/>
                            <small>Achieved</small>
                        </span>
                        <span class="legend_item">
                            <span class="ta-dot ta-dot--red"/>
                            <small>Unachieved</small>
                        </span>
                    </div>
                </div>

                <!-- Revenue & Gross Profit Card -->
                <div class="kpi_card">
                    <div class="kpi_header">
                        <div class="kpi_icon bg-success-light">
                            <i class="fa fa-dollar text-success"/>
                        </div>
                        <h6 class="kpi_title">Revenue &amp; Profit</h6>
                    </div>
                    <div class="kpi_content">
                        <table>
                            <tbody>
                                <tr>
                                    <td>Revenue</td>
                                    <td><t t-esc="state.main_data.overview?.total_revenue"/></td>
                                </tr>
                                <tr>
                                    <td>Cost of Revenue</td>
                                    <td class="text-danger"><t t-esc="state.main_data.overview?.cost_of_revenue"/></td>
                                </tr>
                                <tr>
                                    <td>Gross Profit</td>
                                    <td class="text-success"><t t-esc="state.main_data.overview?.gross_profit"/></td>
                                </tr>
                                <tr class="border-top">
                                    <td><strong>Gross Margin</strong></td>
                                    <td class="text-success"><t t-esc="state.main_data.overview?.gross_margin"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Expenses & Net Profit Card -->
                <div class="kpi_card">
                    <div class="kpi_header">
                        <div class="kpi_icon bg-warning-light">
                            <i class="fa fa-pie-chart text-warning"/>
                        </div>
                        <h6 class="kpi_title">Expenses &amp; Net Profit</h6>
                    </div>
                    <div class="kpi_content">
                        <table>
                            <tbody>
                                <tr>
                                    <td>Expenses</td>
                                    <td class="text-danger"><t t-esc="state.main_data.overview?.total_expenses"/></td>
                                </tr>
                                <tr>
                                    <td>Net Profit</td>
                                    <td class="text-success"><t t-esc="state.main_data.overview?.net_profit"/></td>
                                </tr>
                                <tr class="border-top">
                                    <td><strong>Net Margin</strong></td>
                                    <td class="text-success"><t t-esc="state.main_data.overview?.net_margin"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Receivable & Payable Card -->
                <div class="kpi_card">
                    <div class="kpi_header">
                        <div class="kpi_icon bg-info-light">
                            <i class="fa fa-exchange text-info"/>
                        </div>
                        <h6 class="kpi_title">Receivable &amp; Payable</h6>
                    </div>
                    <div class="kpi_content">
                        <table>
                            <tbody>
                                <tr>
                                    <td>Accounts Receivable</td>
                                    <td class="text-info"><t t-esc="state.main_data.overview?.accounts_receivable"/></td>
                                </tr>
                                <tr>
                                    <td>Accounts Payable</td>
                                    <td class="text-warning"><t t-esc="state.main_data.overview?.accounts_payable"/></td>
                                </tr>
                                <tr class="border-top">
                                    <td><strong>Net Position</strong></td>
                                    <td class="text-danger"><t t-esc="state.main_data.overview?.net_postion"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Charts Section (65% height) -->
            <div class="charts_section">
                <!-- Sales Chart -->
                <div class="chart_card">
                    <div t-ref="salesChart" class="chart-container" style="height: 400px; width: 100%;"/>
                </div>

                <!-- Revenue & Expenses Chart -->
                <div class="chart_card">
                    <div t-ref="revenueExpensesChart" class="chart-container" style="height: 400px; width: 100%;"/>
                </div>

                <!-- Cashflow Chart -->
                <div class="chart_card">
                    <div t-ref="cashflowChart" class="chart-container" style="height: 400px; width: 100%;"/>
                </div>
            </div>
        </div>
    </t>
</templates>
