<odoo>
    <!-- L4 Dashboard Form (with centered title + back & download buttons) -->
    <record id="view_l4_dashboard_form" model="ir.ui.view">
        <field name="name">l4.dashboard.form.OWL</field>
        <field name="model">l4.dashboard</field>
        <field name="arch" type="xml">
            <form string="L4 Dashboard" class="dashboard-form l4_dashboard_view" create="0" edit="0" style="position: relative;">
                <style>
                    .o_control_panel { border-bottom: 0; padding: 0; visibility: hidden; }
                    .o_form_nosheet { padding-top: 0; }

                    /* Header styling */
                    .l4-header { padding: .35rem 0 .75rem; border-bottom: 1px solid #e9eef5; }
                    .l4-header .page-title { font-weight: 700; letter-spacing: .2px; }
                    .l4-header .back-pill {
                        border-color: #e2e8f0; background: #fff;
                        transition: box-shadow .15s ease, transform .15s ease;
                    }
                    .l4-header .back-pill:hover { box-shadow: 0 6px 14px rgba(15,23,42,.08); transform: translateY(-1px); }
                    .l4-header .back-pill:active { transform: translateY(0); }
                    @media (max-width: 767.98px) { .l4-header .page-title { font-size: 1.4rem; } }
                </style>

                <div class="o_form_view_container" style="width: 100%; margin: auto;">

                    <!-- Header -->
                    <div class="row g-3 align-items-center l4-header mb-2">
                        <!-- Back to L2 (left) -->
                        <div class="col-12 col-md-4 d-flex">
                            <button name="action_back_to_l2"
                                    type="object"
                                    class="btn btn-outline-secondary rounded-pill shadow-sm d-inline-flex align-items-center"
                                    style="border-color:#e2e8f0;">
                                <i class="fa fa-chevron-left me-2"></i>
                                <span class="fw-semibold">Back to L2</span>
                            </button>
                        </div>

                        <!-- Title (center) -->
                        <div class="col-12 col-md-4 text-center">
                            <h1 class="my-0 page-title">Project Information</h1>
                        </div>

                        <!-- Filters + Download (right) -->
                        <div class="col-12 col-md-4 d-flex flex-wrap justify-content-md-end align-items-center" style="gap: 10px;">
                            <field name="tag_type" placeholder="Select Region" class="mx-1 my-1"/>
                            <field name="year" placeholder="Select Year" class="mx-1 my-1"/>
                            <field name="month" placeholder="Select Month" class="mx-1 my-1"/>
                            <field name="quarter" placeholder="Select Quarter" class="mx-1 my-1"/>
                            <button name="export_excel" type="object" class="btn btn-success rounded-pill shadow-sm">
                                <i class="fa fa-download me-2"></i> Download Excel
                            </button>
                        </div>
                    </div>

                    <!-- Last update -->
                    <div class="row mb-3">
                        <div class="col-12 text-end pe-3">
                            <span>Last update: <field name="last_update" readonly="1" class="d-inline"/></span>
                        </div>
                    </div>

                    <!-- Dashboard content -->
                    <field name="dashboard_data" readonly="1" nolabel="1" widget="l4_dashboard"/>

                    <!-- Hidden -->
                    <field name="company_id" groups="base.group_multi_company" invisible="1"/>
                    <field name="currency_id" invisible="1"/>
                </div>
            </form>
        </field>
    </record>

    <!-- Action Window (unchanged) -->
    <record id="action_l4_dashboard" model="ir.actions.act_window">
        <field name="name">L4 Dashboard</field>
        <field name="res_model">l4.dashboard</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_l4_dashboard_form"/>
        <field name="target">current</field>
    </record>
</odoo>
