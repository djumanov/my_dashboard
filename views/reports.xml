<odoo>
    <!-- Dashboard Form View -->
    <record id="view_druksmart_dashboard_form" model="ir.ui.view">
        <field name="name">druksmart_dashboard.reports.form.no_title</field>
        <field name="model">druksmart_dashboard.reports</field>
        <field name="arch" type="xml">
            <form string="DrukSmart Dashboard" class="dashboard-form" create="0" edit="1" style="position: relative;">
                <style>
                    .o_control_panel {
                        border-bottom: 0;
                        padding-top: 0;
                        padding-right: 0;
                        padding-bottom: 0;
                        padding-left: 0;
                        visibility: hidden;
                    }
                    .o_form_nosheet {
                        padding-top: 0;
                    }
                </style>
                <div class="o_form_view_container" style="width: 90%; margin: auto;">

                    <!-- Header: Dashboard Title (left) + Filters (right) -->
                    <div class="row align-items-center bg-light rounded shadow-sm px-4 py-3 mb-4">

                        <!-- Title Section -->
                        <div class="col-md-6 text-start">
                            <h2 class="mb-0 text-primary fw-semibold" style="font-size: 1.5rem;">
                                <!-- <field name="category"/> -->
                                <field name="category" invisible="1"/>
                            </h2>
                        </div>

                        <!-- Filters Section -->
                        <div class="col-12 d-flex align-items-end justify-content-end gap-3 flex-wrap">

                            <div style="min-width: 180px;">
                                <span class="text-muted small d-block">Year</span>
                                <field name="year" class="form-control form-control-sm"/>
                            </div>

                            <div style="min-width: 180px;">
                                <span class="text-muted small d-block">Month</span>
                                <field name="month" class="form-control form-control-sm"/>
                            </div>

                            <div style="min-width: 180px;">
                                <span class="text-muted small d-block">Quarter</span>
                                <field name="quarter" class="form-control form-control-sm"/>
                            </div>

                            <div class="align-self-end d-flex gap-2">
                                <button name="export_excel" type="object" string="Download Excel" class="btn btn-sm btn-primary" style="min-width: 160px;" />
                            </div>
                        </div>

                    </div>

                    <!-- Last update info aligned to right -->
                    <div class="row mb-3">
                        <div class="col-12 text-end pe-3">
                            <span>Last update: <field name="last_update" readonly="1" class="d-inline"/>
                            </span>
                        </div>
                    </div>

                    <!-- Dashboard content -->
                    <field name="dashboard_data" readonly="1" nolabel='1' widget="druksmart_dashboard_reports"/>

                    <!-- Hidden fields -->
                    <field name="company_id" groups="base.group_multi_company" invisible="1"/>
                    <field name="currency_id" invisible="1"/>
                </div>
            </form>
        </field>
    </record>

    <!-- Dashboard Action -->
    <record id="action_druksmart_dashboard_report" model="ir.actions.act_window">
        <field name="name">Reports</field>
        <field name="res_model">druksmart_dashboard.reports</field>
        <field name="view_mode">form</field>
        <field name="target">current</field>
        <field name="context">{'form_view_ref': 'druksmart_dashboard.view_druksmart_dashboard_form'}</field>
    </record>
</odoo>
